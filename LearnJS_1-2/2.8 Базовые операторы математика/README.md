# Базовые операторы, математика

<h2>Термины: «унарный», «бинарный», «операнд»</h2>

+ `Операнд` – то, к чему применяется оператор. Например, в умножении `5 * 2` есть два операнда: левый операнд равен 5, а правый операнд равен 2. Иногда их называют «аргументами» вместо «операндов».

+ `Унарным` называется оператор, который применяется к одному операнду. Например, оператор унарный минус `"-"` меняет знак числа на противоположный:

```javascript
let x = 1;

x = -x;
console.log( x ); // -1, применили унарный минус
```

+ `Бинарным` называется оператор, который применяется к двум операндам. Тот же минус существует и в бинарной форме:

```javascript
let x = 1, y = 3;
console.log( y - x ); // 2, бинарный минус вычитает значения
```

<br>
<br>

<h3>+ Сложение строк при помощи бинарного +</h3>

+ Обычно при помощи плюса `'+'` складывают числа.

+ Но если бинарный оператор `'+'` применить к строкам, то он их объединяет в одну:

+ Если хотя бы один операнд является строкой, то второй будет также преобразован в строку.

```javascript
let s = "моя" + "строка";
console.log(s); // моястрока

// Последовательность не важна, тк операторы работают один за другим.
console.log(10 + 10 + 10 + 10 + "1" + 50); // 40150 - string

// Сложение и преобразование строк — это особенность бинарного плюса +.
// Другие арифметические операторы работают только с числами и всегда преобразуют операнды в числа.

console.log( 6 - '2' ); // 4, '2' приводится к числу
console.log( '6' / '2' ); // 3, оба операнда приводятся к числам
console.log("5" ** "2"); // 25 - number
```

<br>
<br>

<h3>+ Приведение к числу, унарный +</h3>

- [ ] Плюс + существует в двух формах: бинарной и унарной.
- [ ] Унарный, то есть применённый к одному значению, плюс + ничего не делает с числами. Но если операнд не число, унарный плюс преобразует его в число.

```javascript
// Не влияет на числа
let x = 1;
console.log( +x ); // 1

let y = -2;
console.log( +y ); // -2

// Преобразует не числа в числа
console.log(+"10"); // 10 - number
console.log( +true ); // 1
console.log( +"" );   // 0
```

+ Это то же самое, что и `Number(...)`, только короче.

```javascript
console.log("10" + "10"); // 1010 - string
console.log(+"10" + +"10"); // 20 - number

// Сначала выполнятся унарные плюсы, которые приведут строки к числам, а затем бинарный '+' их сложит.

// Вместо
console.log(Number("10") + Number("10"));
```

<hr>
<br>
<br>

<h2>Приоритет операторов</h2>

- [x] ВАЖНО! Все операторы возвращают значение.

- [ ] Почему унарные плюсы выполнились до бинарного сложения? В том случае, если в выражении есть несколько операторов – порядок их выполнения определяется приоритетом, или, другими словами, существует определённый порядок выполнения операторов.

![](https://github.com/acidshotgun/learn-js-vanilla/blob/master/LearnJS_1-2/2.8%20%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B%20%D0%BC%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0/maths.jpg)

<hr>
<br>
<br>

<h2>Присваивание</h2>

```javascript
// Короче сначала то, что справа => потом равно (тк у него ниже преоритет)
let x = 2 * 2 + 1;

console.log( x ); // 5
```

<br>
<br>

<h3>+ Присваивание = возвращает значение</h3>

+ Большинство операторов в JavaScript возвращают значение. Для некоторых это очевидно, например `сложение +` или `умножение *`. Но и оператор присваивания не является исключением.

+ Вызов `x = value` записывает `value` в `x` и возвращает его.

+ Благодаря этому присваивание можно использовать как часть более сложного выражения:

```javascript
let a = 1;
let b = 2;

let c = 3 - (a = b + 1);

alert( a ); // 3
alert( c ); // 0

// В примере результатом (a = b + 1) будет значение, которое присваивается переменной a (то есть 3). Потом оно используется для дальнейших вычислений.
// Но такие трюки не сделают ваш код более понятным или читабельным.
```

<br>
<br>

<h3>+ Присваивание по цепочке</h3>

```javascript
let a, b, c;

a = b = c = 2 + 2;

console.log(a); // 4
console.log(b); // 4
console.log(c); // 4

// Такое присваивание работает справа налево.
// Сначала вычисляется самое правое выражение 2 + 2, и затем результат присваивается переменным слева: c, b и a.
// В конце у всех переменных будет одно значение.


// Чтобы код читался легче, лучше разделять подобные конструкции на несколько строчек:

let a, b, c;

c = 2 + 2;
b = c;
a = c;

console.log(a); // 4
console.log(b); // 4
console.log(c); // 4
```

<br>
<br>

<h3>+ Сокращённая арифметика с присваиванием</h3>

```javascript
// Часто нужно применить оператор к переменной и сохранить результат в ней же.
let n = 2;
n = n + 5;
n = n * 2;

console.log(n); // 14


// Эту запись можно укоротить при помощи совмещённых операторов += и *=:
let m = 2;
m += 5; // теперь n = 7 (работает как n = n + 5)
m *= 2; // теперь n = 14 (работает как n = n * 2)

console.log(m); // 14
```

+ Подобные краткие формы записи существуют для всех арифметических и побитовых операторов: `/=`, `-=`, `**=` и так далее.

- [x] Вызов с присваиванием имеет в точности такой же приоритет, как обычное присваивание, то есть выполнится после большинства других операций:

```javascript
let n = 2;

n *= 3 + 5;

console.log(n); // 16  (сначала выполнится правая часть, выражение идентично n *= 8)
```

<hr>
<br>
<br>

<h2>Инкремент/декремент</h2>

- [ ] Одной из наиболее частых числовых операций является увеличение или уменьшение на единицу.

+ `Инкремент` `++` увеличивает переменную на 1:

```javascript
let counter = 2;
counter++;        // работает как counter = counter + 1, просто запись короче
console.log( counter ); // 3
```

+ `Декремент` -- уменьшает переменную на 1:

```javascript
let counter = 2;
counter--;        // работает как counter = counter - 1, просто запись короче
console.log( counter ); // 1
```

- [x] ВАЖНО:

+  Инкремент/декремент можно применить только к переменной. 
+ Попытка использовать его на значении, типа `5++`, приведёт к ошибке. 

```javascript
console.log(5++); // Ошибка
```

<br>

- [ ] Операторы `++` и `--` могут быть расположены не только после, но и до переменной. Разница видна, если использовать значение, которое возвращают `++/--`.

+ `Префиксная форма`: `++counter` - увеличивает и возвращает новое значение.
+ `Постфиксная форма`: `counter++` - также увеличивает, но возвращает старое значение (которое было до увеличения).

```javascript
let counter = 1;
let a = ++counter; // Увеличивиаем + возвращаем новое значение
console.log(a); // 2

///

let counter = 1;
let a = counter++; // Увеличивиаем + возвращаем старое значение
console.log(a); // 1
```

- [x] `Префиксная` и `Постфиксная` форма делают одно и то же - увеличивают/уменшают. Разница в использовании:

  + Если результат оператора не используется, а нужно только увеличить/уменьшить переменную, тогда без разницы, какую форму использовать:

    ```javascript
      let counter = 0;
      counter++;
      ++counter;
      console.log( counter ); // 2, обе строки сделали одно и то же
    ```

  + Если хочется тут же использовать результат, то нужна префиксная форма:
  
    ```javascript
      let counter = 0;
      console.log( ++counter ); // 1
    ```

  + Если нужно увеличить и при этом получить значение переменной до увеличения – нужна постфиксная форма:

    ```javascript
      let counter = 0;
      console.log( counter++ ); // 0
    ```
