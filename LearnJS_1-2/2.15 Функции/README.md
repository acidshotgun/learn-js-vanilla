# Функции

- [ ] **Функция в JavaScript представляет собой блок кода, который выполняет определенную задачу или вычисляет значение. Она является основным строительным блоком в языке.**

  + ИЛИ `Функция – это значение, представляющее «действие»`

- [ ] Повторение одного и того же действия. 

```javascript
  function имя(параметры) {
    ...тело...
  }

//
  function showMessage() {
    alert( 'Всем привет!' );
  }
  
  showMessage();
  showMessage();
```

<br>
<br>

  <h3>- Локальные переменные</h3>

  - [x] Переменные, объявленные внутри функции, видны только внутри этой функции.

  ```javascript
    function showMessage() {
      let message = "Привет, я JavaScript!"; // локальная переменная
    
      alert( message );
    }
    
    showMessage(); // Привет, я JavaScript!
    
    alert( message ); // <-- будет ошибка, т.к. переменная видна только внутри функции
  ```

  <br>
  <br>

  <h3>- Внешние переменные</h3>

  - [x] Функция обладает полным доступом к внешним переменным и может изменять их значение.

  ```javascript
    let userName = 'Вася';

    function showMessage() {
      userName = "Петя"; // (1) изменяем значение внешней переменной
    
      let message = 'Привет, ' + userName;
      alert(message);
    }
    
    alert( userName ); // Вася перед вызовом функции
    
    showMessage();
    
    alert( userName ); // Петя, значение внешней переменной было изменено функцией
  ```

      + Если одноимённая переменная объявляется внутри функции, тогда она перекрывает внешнюю.

   + Глобальные переменные видимы для любой функции (если только их не перекрывают одноимённые локальные переменные).
   + Желательно сводить использование глобальных переменных к минимуму. В современном коде обычно мало или совсем нет глобальных переменных. Хотя они иногда полезны для хранения важнейших «общепроектовых» данных.

<br>
<br>

  <h3>- Параметры</h3>

  +  `Параметр` – это переменная, указанная в круглых скобках в объявлении функции.
  +  `Аргумент` – это значение, которое передаётся функции при её вызове.

<br>
<br>

<h3>- Значения по умолчанию</h3>

  - [ ] Если при вызове функции аргумент не был указан, то его значением становится `undefined`. Такой код не приведет к ошибке

  ```javascript
    const someFunc = (name, text) => {
      console.log(`${name} говорит: ${text}`);
    };
    
    someFunc("Sasha"); // Sasha говорит: undefined

  ```

  <br>

  - [ ] Значение по умолчанию можно указать после знака равно

  ```javascript
// В этом случае, если аргумент text не будет передан
// То будет использоваться значение по умолчанию => "Текста нет"
    const someFunc = (name, text = "Текста нет") => {
      console.log(`${name} говорит: ${text}`);
    };
    
    someFunc("Sasha"); // Sasha говорит: Текста нет
  ```
  + В данном случае "текст не добавлен" это строка, но на её месте могло бы быть и более сложное выражение, которое бы вычислялось и присваивалось при отсутствии параметра. Например:

    ```javascript
      // Функция, результат который будет использоваться как параметр по умолчанию в функции someFunc()
    
      const anotherFunc = () => {
        return "Текста нет";
      };
      
      const someFunc = (name, text = anotherFunc()) => {
        console.log(`${name} говорит: ${text}`);
      };
      
      someFunc("Sasha"); // Sasha говорит: Текста нет
    ```

  + Оператор нулевого слияния ??

  ```javascript
    function showCount(count) {
      // если count равен undefined или null, показать "неизвестно"
      alert(count ?? "неизвестно");
    }
    showCount(0); // 0
    showCount(null); // неизвестно
    showCount(); // неизвестно
  ```

<br>
<br>

<h3>- Возврат значения</h3>

  - [ ] Функция может вернуть результат, который будет передан в вызвавший её код.
  - [ ] Директива `return` может находиться в любом месте тела функции. Как только выполнение доходит до этого места, функция останавливается, и значение возвращается в вызвавший её код
  
    ```javascript
      function sum(a, b) {
        return a + b;
      }
      
      let result = sum(1, 2);
      alert( result ); // 3
    ```

    - [ ] Возможно использовать `return` и без значения. Это приведёт к `немедленному выходу из функции`.
    - [ ] Если функция не возвращает значения, это всё равно, как если бы она возвращала `undefined`
       
    ```javascript
      function doNothing() { /* пусто */ }

      alert( doNothing() === undefined ); // true

    // или

    function doNothing() {
      return;
    }
    
    alert( doNothing() === undefined ); // true
    ```

  <hr>
  <br>
  <br>

  <h2>Итого</h2>

  + Передаваемые значения копируются в параметры функции и становятся локальными переменными.
  + Функции имеют доступ к внешним переменным. Но это работает только изнутри наружу. Код вне функции не имеет доступа к её локальным переменным.
  + Функция может возвращать значение. Если этого не происходит, тогда результат равен `undefined`.
