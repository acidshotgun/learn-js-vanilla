# Конструкция "switch"

- [ ] Конструкция switch заменяет собой сразу несколько `if`.
  
- [ ] Она представляет собой более наглядный способ сравнить выражение сразу с несколькими вариантами.

```javascript
  switch(x) {
    case 'value1':  // if (x === 'value1')
      ...
      [break]
  
    case 'value2':  // if (x === 'value2')
      ...
      [break]
  
    default:
      ...
      [break]
  }

//  1) Переменная x проверяется на строгое равенство первому значению value1, затем второму value2 и так далее.
//  2) Если соответствие установлено – switch начинает выполняться от соответствующей директивы case и далее, до ближайшего break (или до конца switch).
//  3) Если ни один case не совпал – выполняется (если есть) вариант default.
```

<br>

- [x] Если `break нет`, то выполнение пойдёт ниже по следующим case, при этом остальные проверки игнорируются.

```javascript
// В этом примере последовательно выполнится три alert:
/*
  alert( 'В точку!' );
  alert( 'Перебор' );
  alert( "Нет таких значений" );
*/

  let a = 2 + 2;

  switch (a) {
    case 3:
      alert( 'Маловато' );
    case 4:
      alert( 'В точку!' );
    case 5:
      alert( 'Перебор' );
    default:
      alert( "Нет таких значений" );
  }
```

<br>

- [x] Любое выражение может быть аргументом для `switch/case`.

```javascript
// В этом примере выражение +a вычисляется в 1, что совпадает с выражением b + 1 в case,
// и следовательно, код в этом блоке будет выполнен.

  let a = "1";
  let b = 0;
  
  switch (+a) {
    case b + 1:
      console.log("Выполнится, т.к. значением +a будет 1, что в точности равно b+1");
      break;
    default:
      console.log("Это не выполнится");
  }
```

- [x] Группировка `«case»`

    + Несколько вариантов `case`, использующих один код, можно группировать.
    + Возможность группировать `case` – это побочный эффект того, как `switch/case` работает без `break`. Здесь выполнение case 3 начинается со строки (*) и продолжается в case 5, потому что отсутствует `break`.
     
    ```javascript
    // Теперь оба варианта 3 и 5 выводят одно сообщение.
    
      let a = 3;

      switch (a) {
        case 4:
          alert('Правильно!');
          break;
      
        case 3: // (*) группируем оба case
        case 5:
          alert('Неправильно!');
          alert("Может вам посетить урок математики?");
          break;
      
        default:
          alert('Результат выглядит странновато. Честно.');
      }
    ```

<hr>
<br>
<br>

<h2>Тип имеет значение</h2>

- [ ] Нужно отметить, что проверка на равенство `всегда строгая`. Значения должны быть одного типа, чтобы выполнялось равенство.

```javascript
// 1) Для '0' и '1' выполнится первый alert.
// 2) Для '2' – второй alert.
// 3) Но для 3, результат выполнения prompt будет строка "3", которая не соответствует строгому равенству === с числом 3.
// Таким образом, мы имеем «мёртвый код» в case 3! Выполнится вариант default.

  let arg = prompt("Введите число?");
  switch (arg) {
    case '0':
    case '1':
      alert( 'Один или ноль' );
      break;
  
    case '2':
      alert( 'Два' );
      break;
  
    case 3:
      alert( 'Никогда не выполнится!' );
      break;
    default:
      alert( 'Неизвестное значение' );
  }
```

<hr>
<br>
<br>

<h2>ВАЖНО | ИТОГ</h2>

- [x] Условие `switch` проверяется как `строгое сравнение` `===`.

- [x] Каждый `case` в операторе `switch` должен представлять собой отдельное значение, с которым будет производиться строгое сравнение.
      
    + В операторе `switch` вы не можете использовать операторы условия `(||, && и т.д.)` внутри `case`. 

    + Так же не работает использования математических операций или условий, таких как `<, <=, >, >=, ==, ===` и т. д., `внутри case`.
     
    ```javascript
    // Тут будет ошибка => нельзя условия
      const number = "3";

      switch (+number) {
        case 2 || 3:
          console.log("Вы ввели число 2, а может и 3");
          break;
      }

  // Тут так же будет ошибка => никаких математич. сравнений
    const number = 5;

    switch (number) {
      case < 5:
        console.log("Меньше 5");
        break;
      case >= 5:
        console.log("Больше или равно 5");
        break;
    }
    ```

  + Тут ошибок не будет!
  + Вместо `ИЛИ(||) И(&&) и тд` и `сравнения` лучше использовать `группировку case`.
     
  ```javascript
    const number = "2";

    switch (+number) {
      case 0:
        console.log("Вы ввели число 0");
        break;
      case 1:
        console.log("Вы ввели число 1");
        break;
      case 2:
      case 3:
        console.log("Вы ввели число 2, а может и 3");
        break;
    }

  // И тут
  const number = 5;

  switch (number) {
    case 0:
    case 1:
    case 2:
    case 3:
    case 4:
      console.log("Меньше 5");
      break;
    case 5:
      console.log("Равно 5");
      break;
    default:
      console.log("Больше 5");
  }
  ```
