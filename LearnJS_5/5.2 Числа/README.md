# Числа

- [ ] В современном JavaScript существует два типа чисел:

  + Обычные числа в JavaScript хранятся в 64-битном формате IEEE-754, который также называют «числа с плавающей точкой двойной точности»
  + BigInt числа дают возможность работать с целыми числами произвольной длины.

<hr>
<br>
<br>

<h2>Способы записи числа</h2>

- [ ]  1 миллиард

```javascript
  let billion = 1000000000;

  let billion = 1_000_000_000
```

  + В JavaScript, чтобы укоротить запись числа, мы можем добавить к нему букву `"e"` и указать необходимое количество нулей:

  ```javascript
    let billion = 1e9;  // 1 миллиард, буквально: 1 и 9 нулей
  
    alert( 7.3e9 );  // 7.3 миллиарда (7,300,000,000)
  
  
    // Другими словами, "e" умножает число на 1 с указанным количеством нулей.
  
    1e3 === 1 * 1000 // e3 означает *1000
    1.23e6 === 1.23 * 1000000 // e6 означает *1000000
  ```

<br>
<br>

- [ ] 1 микросекунду (одна миллионная секунды):

```javascript
  let mcs = 0.000001;
```

  + В этом случае нам также поможет `"e"`. Если мы хотим избежать записи длинной последовательности из нулей, мы можем сделать так:

  ```javascript
    let ms = 1e-6; // шесть нулей слева от 1


    // Если мы подсчитаем количество нулей в 0.000001, их будет 6. Естественно, верная запись 1e-6.

    // Другими словами, отрицательное число после "e" подразумевает деление на 1 с указанным количеством нулей:

    // 1 делится на 1 с 3 нулями
    1e-3 === 1 / 1000 (=0.001)
    
    // 1.23 делится на 1 с 6 нулями
    1.23e-6 === 1.23 / 1000000 (=0.00000123)
  ```

<hr>
<br>
<br>

<h2>Округление</h2>

- [ ] Одна из часто используемых операций при работе с числами – это `округление`.

![image](https://github.com/acidshotgun/learn-js-vanilla/assets/117285472/fe3d7835-f8b3-479f-ab22-8158742f1da7)

<br>

- [ ] Что если нам надо округлить число до `n-ого` количества цифр в дробной части?
- [ ] Например, у нас есть `1.2345` и мы хотим округлить число до 2-х знаков после запятой, оставить только `1.23`.

<br>

- [x] Есть два пути решения:

  + Умножить и разделить.

     ```javascript
      let num = 1.23456;

      alert( Math.round(num * 100) / 100 ); // 1.23456 -> 123.456 -> 123 -> 1.23
     ```

  + Метод `toFixed(n)` округляет число до `n` знаков после запятой и возвращает строковое представление результата.
     
    ```javascript
      let num = 12.34;
      alert( num.toFixed(1) ); // "12.3"


    // Округляет значение до ближайшего числа, как в большую, так и в меньшую сторону, аналогично методу Math.round:

      let num = 12.38;
      alert( num.toFixed(1) ); // "12.4"
    ```

    + Результатом `toFixed` является `строка`. Если десятичная часть короче, чем необходима, будут добавлены нули в конец строки:
   
      ```javascript
        let num = 12.34;
        alert( num.toFixed(5) ); // "12.34000", добавлены нули, чтобы получить 5 знаков после запятой
      ```

    + Мы можем преобразовать полученное значение в `число`, используя унарный оператор `+ или Number()`, пример с унарным оператором: `+num.toFixed(5) / Number(num.toFixed(5))`.
   
<hr>
<br>
<br>

<h2>Неточные вычисления</h2>

![image](https://github.com/acidshotgun/learn-js-vanilla/assets/117285472/80e8a31c-d59d-4531-a57b-ad0b6e3589d4)

![image](https://github.com/acidshotgun/learn-js-vanilla/assets/117285472/7fd3a700-141d-4619-b0cd-60d22dcd7232)

![image](https://github.com/acidshotgun/learn-js-vanilla/assets/117285472/a98e484e-001a-459d-bacb-bb1e1912b8ab)

<hr>
<br>
<br>

<h2>Проверка: isFinite и isNaN</h2>

- [ ] Cпециальные числовые значения:

  + `Infinity (и -Infinity)` — особенное численное значение, которое ведёт себя в точности как математическая бесконечность `∞`. (Возникает при делении на `0/ -0`)
  + `NaN` представляет ошибку.
     
<br>

- [x] Эти числовые значения принадлежат типу `number`, но они не являются «обычными» числами, поэтому есть функции для их проверки:

  + `isNaN(value)` преобразует значение в число и проверяет является ли оно `NaN`:
     
    ```javascript
      alert( isNaN(NaN) ); // true
      alert( isNaN("str") ); // true
      alert( isNaN(5) ); // fasle


    /*
      Сравнить как === NaN нельзя
      NaN уникально тем, что не является равным ничему другому. Даже себе.
    */

      alert( NaN === NaN ); // false
    ```

  <br>

  + `isFinite(value)` `преобразует аргумент в число` и возвращает `true`, если оно является обычным числом, т.е. не `NaN/Infinity/-Infinity`:
     
    ```javascript
      console.log(isFinite("15")); // true (Само преобразует в число)
      console.log(isFinite("str")); // false, потому что специальное значение: NaN
      console.log(isFinite(Infinity)); // false, потому что специальное значение: Infinity

      console.log(isFinite("")); // true (Пустая строка ""/" " интерпритируется как 0)
      console.log(isFinite("123fff")); // false (Преобразует в число. 123fff == NaN (Не прохдит проверку))
      console.log(isFinite(false)); // true (Преобразует в число. False == 0 (число))
      console.log(isFinite(true)); // true (Преобразует в число. False == 1 (число))
      
      console.log(isFinite(undefined)); // false (Преобразует в число. Undefined == NaN (не проходит проверку))
      console.log(isFinite(null)); // true (Преобразует в число. Null == 0 (число))
    ```
